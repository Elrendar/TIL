# 파이어폭스 메모리 과다 점유

[목록으로 돌아가기](/README.md)

## 문제 발견

며칠 전부터 컴퓨터가 이상했다. 강의를 듣다가 구글링을 하던 중이었는데, 갑자기 컴퓨터가 잠시 멈추더니, 몇 초 뒤에 다시 움직이기 시작했다.

그 사이에 브라우저는 응답이 없는 상태가 되었고, 파이참은 강제 종료되었다. 결국 브라우저도 수동으로 종료 시키고, 재실행하니 원래 모습으로 돌아왔다.

그런데 파이참이 실행되지 않았다. 정확히는 실행되다가, 메인화면이 뜰 때쯤 갑자기 사라지듯 강제 종료 되었다.

순간 당황했지만, 왠지 느낌이 가용 메모리 부족 현상 같았다.

그래서 인텔리제이를 종료하고 파이참을 실행해봤다. 잘만 실행됐다. 대체 32기가 램이 왜 부족한지 이해할 수 없었지만, 어쨌든 내가 메모리 부족 현상을 겪고 있는 건 맞는 거 같았다.

실제로 작업 관리자와 리소스 모니터를 확인해본 결과, 메모리 사용량이 비정상적으로 높아 보였다. 원인을 찾아보기로 했다.

## 원인 탐색

그 때 내 컴퓨터에서 실행 중이던 앱들은 대략 아래와 같다.

##### *파이어폭스, 엣지 (로드 된 탭 합쳐서 40개 이상)*

##### *인텔리제이*

##### *파이참*

##### *슬랙*

##### *도커 데스크탑*

##### *카카오톡, 드롭박스 등...*

고작 이 정도로는 메모리 사용량 32기가를 채우기 어렵다. 결국, 어딘가에 버그가 있다는 생각이 들었다. 그것도 최근에 설치한 프로그램에.

첫 번째 후보는 파이어폭스였다. 불과 두어 달 전까지 나는 크롬 기반의 다른 브라우저를 사용중이었고, 그 때는 이런 문제가 발생한 적이 없었기 때문이다.

파이어폭스 메모리 관련으로 검색하니 바로 연관 결과가 나왔다.

![Firefox Memory Constraints](/images/ff-memory.png)

오죽하면 모질라 공식 문서가 존재할까. 공식 문서를 먼저 읽어봤지만 의미 있는 내용이 없었다. 결국 나무위키를 들어가봤다.

거기서 얻은 조언은, `Process Lasso`, 혹은 `Firemin`처럼 자동 메모리 Trim 기능이 있는 외부 프로그램을 사용하라는 것이었다.

아직 파이어폭스 문제라고 확실해진 것은 아니기 때문에, 파이어폭스 전용 프로그램인 `Firemin`대신 `Process Lasso`를 사용해 보기로 했다.

`Process Lasso`와 파이어폭스로 검색해보니 비슷한 문제를 겪은 사람이 많이 보였다.

###### *여담이지만, 파이어폭스의 하드웨어 가속에 버그가 있어서 간혹 검은화면이 나오는 현상이 있다고 한다. 나 역시 그런 현상을 겪은 적이 있기에 하드웨어 가속을 꺼두었다.*

###### *웹 게임 같은 걸 하지 않으면 퍼포먼스에 큰 영향이 없다는 것 같다.*

## 탐색 결과

`Process Lasso`를 설치해 적용한 결과, 파이어폭스의 메모리 사용량이 대폭 감소했다.

적어도 당분간 메모리 부족으로 프로그램이 실행되지 않는 문제는 발생하지 않을 것 같다.
