# 자주 쓰는 우분투 명령어 모음

[목록으로 돌아가기](/README.md)

윈도우 터미널을 통해 aws ubuntu에 접속할 때, docker를 사용할 때 등 최근 CLI를 사용할 일이 많아졌다.

그런데 또 매일 같이 사용하는 건 아니라서, 며칠 뒤에 쓰려고 보면 기억이 안 나는 것들이 많았다.

그래서 자주 쓰는 것들을 여기에 기록해 두려고 한다.

## 디렉토리 탐색 관련

* ### `pwd`

print working directory

현재 작업 중인 디렉토리 경로를 터미널에 출력한다.

![pwd](/images/pwd.png)

* ### `ls` {명령어} {파일명}

list segments

현재 작업 경로의 하위폴더와 파일 목록을 출력한다.

![ls](/images/ls.png)

뒤에 옵션 플래그와 파일명을 추가할 수 있다. 둘 다 생략 가능하고, 여러 가지를 동시에 사용할 수 있다.

이곳에는 자주 사용하는 것들만 적어놓았다.

* #### `-a` `--all`

.과 ..을 포함, .으로 시작하는 숨김파일 목록까지 모두 출력한다

* #### `-A` `--almost-all`

.과 ..을 제외하고 출력한다

![ls](/images/ls-aA.png)

* #### `-l`

자세히 보기 형태로 출력한다

![ls -l](/images/ls-l.png)

* #### `-al`

이렇게 합쳐서 사용하면 숨김파일 목록을 자세히 보기로 출력한다

![ls -al](/images/ls-al.png)

* #### `-R` `--recursive`

모든 하위 디렉토리의 파일 목록을 출력한다

![ls -R](/images/ls-R.png)

* #### `-t`

시간순으로 출력한다. 그냥 사용하면 티가 잘 안 나서, `-al`과 같이 사용하면 좋다

![ls -alt](/images/ls-alt.png)

* ### `cd` {경로}

change directory

디렉토리를 이동할 때 사용한다.

`cd ..`

상위 디렉토리

`cd /`

루트 디렉토리

`cd ~` `cd $HOME` `cd`

사용자 홈 디렉토리

`cd -`

이전 경로

`cd $변수명`

변수명에 저장된 경로

* ### `mkdir {폴더명}`

현재 위치에 폴더를 만든다.

* ### `touch {파일명}`

현재 위치에 파일을 만든다.

* ### `cat {옵션명} {파일명}`

concatenate

파일을 읽고 쓰는 다양한 용도에 사용된다.

* #### `cat {파일명1} {파일명2} ...`

해당 파일의 내용을 출력한다. 파일 여러 개를 순서대로 출력할 수도 있다.

![cat-file](/images/cat-file.png)

* #### `cat > {파일명}`

파일을 생성하고 내용을 쓴다. 엔터키를 눌러서 줄바꿈이 가능하고, 마지막 줄은 생략된다.

작성이 끝나면 Ctrl + D를 눌러 종료한다.

![cat-write](/images/cat-write.png)

## 프로그램 실행 관련

* ### `nohup {프로세스} &`

프로세스 부분에 실행하고자 하는 프로그램이나 스크립트명을 넣으면 된다.

예시)

* #### `nohup python app.py &`

* #### `nohup java -jar app.jar &`

이렇게 실행된 프로그램은 터미널 세션이 종료되어도 백그라운드에서 계속 돌아간다.

![nohup](/images/nohup.png)

이것을 종료하려면 먼저 `ps` 명령어로 `PID`를 식별한 다음, `kill` 명령어로 해당 프로세스에 종료 시그널을 보내야 한다.

* ### `ps {옵션명}`

현재 `shell`에서 실행중인 프로세스를 출력한다.

![ps](/images/ps.png)

* #### `ps -ef`

실행 중인 모든 프로세스(`-e`)를 상세하게(`-f`) 출력한다.

여기서 뒤에 `| grep {regex}`를 사용하면 특정 프로세스를 찾아낼 수 있다.

![ps-ef](/images/ps-ef.png)

* ### `kill {옵션명} {PID}`

`PID`를 통해 프로세스를 종료한다. 옵션에 따라 방식이 달라진다.

`nohup`으로 실행한 프로세스를 종료할 때 이 명령어가 필요하다.

![kill-pid](/images/kill-pid.png)

첫 번째 `ps` 명령어로 현재 실행 중인 자바 프로세스를 찾아냈고, `kill` 명령어로 종료 시그널을 보냈다.

그 다음 `ps`에 자바 프로세스가 남아있는 것은 아마 종료하기까지 시간이 걸려서 그랬던 것 같다.

잠시 기다렸다가 다시 `ps`를 사용하니 깔끔하게 사라져있다.
