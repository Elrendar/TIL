# 2022-08-07 WIL

[목록으로 돌아가기](/README.md)

스프링 시큐리티와 JWT를 활용한 회원가입, 로그인 유지 등에 대해 공부했다.

---

## 요약

처음으로 스프링 시큐리티에 대해 배웠다. 지난 주에 비해 난이도가 많이 올라서 당황스러웠다. 느슨해진 마음에 긴장감을 주는 일주일이었다.

처음으로 과제 완성에 실패했다.

### Spring Security

스프링 시큐리티는 스프링 프레임워크 내에서 보안 관련 기능들을 담당하는 부분이다.

리퀘스트를 보냈을 때, 컨트롤러에서 그것을 받기 전에 서블릿 필터로 구성된 필터체인에서 먼저 필터링 과정을 거친다.

기본적으로 세션 기반의 로그인 방식을 제공하지만, 개발자가 임의로 다양한 방식을 사용하도록 변경 가능하다.

### JWT

과거 파이썬에서 JWT를 사용하면서 JWT에 대해 알게 되었다고 생각했지만 오산이었다.

개념적으로는 뭔지 알겠지만, 그것을 코드로 사용하는 것은 별개의 일이다. 스프링 시큐리티에서 JWT를 사용하는 필터를 만들고 적용하는 부분이 상당히 어려웠다.

다음주에 마저 복습을 해야겠다.

### Thymeleaf

파이썬의 Jinja처럼 html에서 사용 가능한 템플릿 엔진이다. 잠깐 사용해봤는데 타임리프 자체보다, 이것을 인식하고 연결해주는 인텔리제이의 성능에 놀랐다. IDE의 발전이란...

## 금주의 키워드: ORM, SQL, MVC

### ORM (Object Relational Mapping)

ORM이란 이름 그대로 객체(Object)와 RDB테이블(Relational) 간의 매핑을 의미한다. ORM을 사용하면 DB를 조작할 때 SQL 쿼리가 아닌 자바 코드를 사용할 수 있다.

예를 들어 USER 테이블의 데이터를 출력하기 위해 MySQL에서는 이런 쿼리가 필요하다.

```SQL
SELECT * FROM user;
```

하지만 ORM을 사용하면

```Java
userRepository.findAll();
```

이렇게 사용이 가능하다.

다만 쿼리가 복잡해지면 ORM으로 표현하는 것에 한계가 있고, 성능이 raw 쿼리에 비해 느리다는 단점이 있어서 무조건적인 정답은 아니라고 한다.

나는 아직 기초적인 JPA만 사용해봐서 속도에 대한 부분은 체감해볼 수가 없었다.

### SQL (Structured Query Language)

SQL은 관계형 데이터베이스 관리 시스템(RDBMS)의 데이터를 관리하기 위해 설계된 특수 목적의 프로그래밍 언어이다.

난이도 때문인지 몰라도, 나는 SQL보다 JPA 사용법을 먼저 배워서 쓰고 있다. JPA는 위에서 말한 자바 ORM을 제공하는 기술이고, 자바 코드 형태이기 때문에 SQL보다 접근성이 훨씬 좋다.

하지만 JPA는 모든 상황에서 사용할 수 있는 만능열쇠가 아니기 때문에, 결국 SQL에 대해 공부해야 한다고 한다.

```SQL
SELECT * FROM user;
```

지금의 나는 아직 이거밖에 모른다.

### MVC (Model, View, Controller)

MVC에 대해서는 이전에 적어둔 것이 있으므로 [링크](/Spring/MVCPattern.md)를 달아놓겠다.

## 마무리

4주째 TIL, WIL을 쓰면서 느낀 것이 2가지 있다.

* TIL은 가급적 배운지 하루 이내에 적을 것. 안 그러면 까먹어서 다시 봐야 하고, 그만큼 시간이 낭비된다.

  물론 복습효과는 있었지만, 바로 하는 게 조금 더 효과적이다.
  
  하루 일과를 조금 일찍 마무리하고 TIL을 적는 습관을 들이자. 아니면 중간중간 쉬는 시간을 갖는 것도 좋은 것 같다.

* TIL, WIL은 어디까지나 복습 겸 정리의 목적으로 적는 거지, 블로그 활동 같은 걸 하는 게 아니므로 불필요하게 많은 정성과 시간을 들여선 안 된다.

  매주 TIL을 적는 양이 늘고 있는 거 같은데, 어느 순간 단순히 개수 뿐 아니라 내용물 역시 불필요하게 늘고 있다는 생각이 들었다.

  공부시간이 방해받고 있다는 생각마저 들 정도였으니 너무 과했던 것 같다. 되돌아보니 굳이 TIL로 적지 않아도 되는 것들도 있었다.

그래서 이번 주 WIL은 지난 주에 비해 양을 대폭 줄였다. 개념 정리가 길게 필요한 것들은 개별 TIL 항목으로 옮기고, WIL은 이전처럼 한 주간의 배움을 정리하는 학습일지 느낌으로 돌아가려 한다.
